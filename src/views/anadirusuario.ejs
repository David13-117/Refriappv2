<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Usuario</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body class="backanadirusuario">
    <nav class="navbaranadirusuario">
        <div class="nvbar-leftanadirusuario">
            <img src="/img/anadirusericon.png" class="iconopantalla" alt="anadirusuario">
            <span>Registro de Nuevo Usuario</span>
        </div>
        <div class="user-menu">
            <a href="/principal"><img src="/img/salirn.png" class="iconsalir" alt="salir"></a>
        </div>
        </div>
    </nav>
    <div class="contenedor_principal">
        <div class="tarjetacanadirusuario1">
            <div class="form-group">
                <label for="nombre">Nombre Completo:</label>
                <input type="text" id="nombre" class="form-control" placeholder="Ingrese su nombre">
                <label for="Area" class="mt-3">Area:</label>
                <select class="form-select" aria-label="Default select example">
                    <option selected>Seleccione su area de trabajo</option>
                    <option value="1">Producción</option>
                    <option value="2">Logistica</option>
                    <option value="3">Administración</option>
                </select>
                <br>
                <button class="btn btn-danger" type="submit" id="btnregistuser">Registrar Usuario</button>
                <p id="errorForm" class="error-text">Por favor complete la información</p>
            </div>
            <div class="form-group">
                <label for="identificacion">Identificación:</label>
                <input type="text" id="identificacion" class="form-control" placeholder="Ingrese su identificación">
                <label for="carnet" class="mt-3">Carnet corpotaivo</label>
                <div class="form-group botones">
                    <button class="btn btn-primary" id="btnCarnet">Escanear carnet</button>
                    <button class="btn btn-secondary" id="btncancel">Cancelar</button>
                </div>
            </div>
        </div>
        <div id="modalCarnet" class="modal">
            <div class="modal-content">
                <p>Por favor acerque el carnet al lector</p>
                <img src="/img/barras2.png" alt="Carnet" id="imgCarnet" class="huella">
                <button id="btnCancelarCarnet" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
        <div class="tarjetacanadirusuario2">
            <h3>Datos Biométricos</h3>
            <img src="/img/huella2.png" class="anadirhuellaicon" alt="anadirhuella">
            <p id="estado">Estado: no registrado</p>
            <button class="btn btn-primary" type="submit" id="btnRegistrar">Registrar huella</button>
        </div>
        <div id="modalHuella" class="modal">
            <div class="modal-content">
                <p>Por favor coloque la huella</p>
                <img src="/img/huella2.png" alt="huella2" id="imgHuella" class="huellaicon">
                <button id="btnCancelar">Cancelar</button>
            </div>
        </div>
    </div>
    <div id="modalExito" class="modal">
        <div class="modal-content exito">
            <img src="/img/entreok2.png" alt="exito" class="icon-exito">
            <h4>Usuario registrado con éxito</h4>
            <button class="btn btn-primary" id="btnCerrarExito">Aceptar</button>
        </div>
    </div>
    <script>
        const btnRegistrarHuella = document.getElementById("btnRegistrar");
        const modalHuella = document.getElementById("modalHuella");
        const btnCancelarHuella = document.getElementById("btnCancelar");
        const imgHuella = document.getElementById("imgHuella");
        const estado = document.getElementById("estado");

        btnRegistrarHuella.onclick = () => {
            modalHuella.style.display = "flex";
        };

        btnCancelarHuella.onclick = () => {
            modalHuella.style.display = "none";
        };

        imgHuella.onclick = () => {
            modalHuella.style.display = "none";
            estado.textContent = "Estado: registrado";
            estado.style.color = "green";
        };

        const btnRegistrarUsuario = document.getElementById("btnregistuser");
        const btnCancelarFormulario = document.getElementById("btncancel");
        const btnCarnet = document.getElementById("btnCarnet");

        const nombre = document.getElementById("nombre");
        const identificacion = document.getElementById("identificacion");
        const errorForm = document.getElementById("errorForm");

        btnRegistrarUsuario.onclick = () => {
            if (
                nombre.value.trim() === "" ||
                identificacion.value.trim() === ""
            ) {
                errorForm.style.display = "block";
                return;
            }

            errorForm.style.display = "none";
            modalExito.style.display = "flex";
        };

        btnCancelarFormulario.onclick = () => {
            nombre.value = "";
            identificacion.value = "";
            errorForm.style.display = "none";
        };

        const modalCarnet = document.getElementById("modalCarnet");
        const imgCarnet = document.getElementById("imgCarnet");
        const btnCancelarCarnet = document.getElementById("btnCancelarCarnet");

        btnCarnet.onclick = () => {
            modalCarnet.style.display = "flex";
        };

        imgCarnet.onclick = () => {
            modalCarnet.style.display = "none";
        };

        btnCancelarCarnet.onclick = () => {
            modalCarnet.style.display = "none";
        };

        const modalExito = document.getElementById("modalExito");
        const btnCerrarExito = document.getElementById("btnCerrarExito");

        btnCerrarExito.onclick = () => {
            modalExito.style.display = "none";
        };
    </script>


</body>
</html>